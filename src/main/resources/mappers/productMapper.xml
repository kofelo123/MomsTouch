<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.momstouch.mapper.ProductMapper">

	<select id="listNewProduct" resultType="ProductVO">
		select *  from new_pro_view
	</select>
	
	<select id="listBestProduct" resultType="ProductVO">
		select * from best_pro_view
	</select>
	
	
	<select id="listKindProduct" resultType="ProductVO">
	<![CDATA[
		select * from product where kind=#{kind} AND image<10 order by pseq ASC
	]]>
	</select>
	
	<select id="listKindProduct2" resultType="ProductVO">
	<![CDATA[
		select * from product where kind=#{kind} AND (image>9 AND image<19) order by pseq ASC
	]]>
	</select>
	
	<select id="listKindProduct3" resultType="ProductVO">
		<![CDATA[
			select * from product where kind=#{kind} AND image>18 order by pseq ASC
		]]>
	</select>
	
	<select id="product_detail" resultType="ProductVO">
		select * from product where pseq=#{pseq}   
	</select>
	
	<insert id="cartInsert">
		insert into cart(cseq,id,pseq,quantity) values(CART_SEQ.nextval,#{id},#{pseq},#{quantity})
	</insert>
	
	<select id="listCart" resultType="CartVO">
		select * from cart_view where id=#{id} order by cseq desc
	</select>
	
	<select id="seqOrderIng" resultType="Integer">
		select distinct oseq from order_view where id = #{id} and result = '1' order by oseq desc
	</select>
	
	<select id="listOrderById" resultType="OrderVO">
		select * from order_view where id=#{id} and result like '%'||#{result}||'%' and oseq=#{oseq} 
	</select>

</mapper>